
/*
sm_depth_geom_pssm_direct.ps
Рендер глубины сцены (геометрии) с позиции позиции направленного/глобального источника света
*/

#include <../struct.h>

sampler2D BaseSampler:register(s0);

half4 main(vs_out_gcommon IN):COLOR0
{
	half4 tmpColor = tex2D(BaseSampler,IN.TexUV);
	clip(tmpColor.a - GREEN_ALPHATEST_VALUE);
	tmpColor.a = 1.f;
	
	return IN.Pos.z/IN.Pos.w;
}