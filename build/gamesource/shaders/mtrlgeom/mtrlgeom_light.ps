
/*
mtrlgeom_light.ps
Рендер источника света
*/

#include <../struct.h>
#include <../mtrl.h>

half4 Param;	//цвет света
half4 NearFarIsUnlit;

ps_out_ds_mrt main(vs_out_gcommon IN)
{
	ClipFar(IN.Pos.z,NearFarIsUnlit.y);
	ps_out_ds_mrt OUT; 
	OUT.Color = Param;
	OUT.Color.a = 1.f;
	OUT.Normal = half4(0.f, 0.f, 0.f, NearFarIsUnlit.z);
	OUT.Param = half4(0.f, 0.f, 0.f, NearFarIsUnlit.w);
	
	OUT.Depth = GetDepthW(IN.Pos, NearFarIsUnlit.xy);
	return OUT;
}